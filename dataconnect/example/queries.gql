mutation CreateCommonArea @auth(level: USER) {
  commonArea_insert(data: {
    name: "Example Common Area",
    description: "A place for residents to gather",
    capacity: 5,
    createdAt_expr: "request.time"
  })
}

query ListCommonAreas @auth(level: PUBLIC, insecureReason: "This operation is safe to expose to the public") {
  commonAreas {
    id
    name
    description
    capacity
  }
}

mutation UpdateReservationStatus($id: UUID!, $status: String!) @auth(level: USER) {
  reservation_update(
    key: { id: $id }
    data: {
      status: $status
    }
  )
}

query ListPaymentsForResident @auth(level: USER) {
  payments(where: { residentId_expr: "auth.uid" }) {
    id
    amount
    dueDate
    status
  }
}